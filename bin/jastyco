#!/usr/bin/env node

var program = require('commander');
var jastyco = require('../src/jastyco.js');
var defaultPatterns = '**/*.jade **/*.coffee **/*.styl';

program
  .option('-b, --build', 'compile sources')
  .option('-s, --src <src>', 'source directory. current default')
  .option('-d, --dest <dest>', 'destination directory. current default')
  .option('-p, --patterns <patterns>', 'files patterns. "' + defaultPatterns + '" default')
  .usage('[options] patterns');

program.parse(process.argv);

var options = {
  build: program.build || false,
  src: program.src || '',
  dest: program.dest || '',
  patterns: program.patterns || program.args[0] || defaultPatterns
};

jastyco.jastyco(options);
